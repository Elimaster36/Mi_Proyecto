{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/elias/Desktop/Unab-2024/Portafolio de Proyectos/SimplicityPhone/SimplicityPhone/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/fire/compat/auth\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@ionic/angular\";\nimport * as i4 from \"@angular/forms\";\nconst _c0 = () => [\"/register\"];\nexport class LoginPage {\n  constructor(afAuth, router, toastController) {\n    this.afAuth = afAuth;\n    this.router = router;\n    this.toastController = toastController;\n  }\n  login() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      try {\n        const userCredential = yield _this.afAuth.signInWithEmailAndPassword(_this.email, _this.password);\n        if (userCredential.user) {\n          _this.router.navigate([\"/home\"]);\n        } else {\n          const toast = yield _this.toastController.create({\n            message: \"Por favor\",\n            duration: 3000\n          });\n          yield toast.present();\n        }\n      } catch (error) {\n        const errorMessage = error.message;\n        const toast = yield _this.toastController.create({\n          message: errorMessage,\n          duration: 3000\n        });\n        yield toast.present();\n      }\n    })();\n  }\n  static #_ = this.ɵfac = function LoginPage_Factory(t) {\n    return new (t || LoginPage)(i0.ɵɵdirectiveInject(i1.AngularFireAuth), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.ToastController));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: LoginPage,\n    selectors: [[\"app-login\"]],\n    decls: 18,\n    vars: 4,\n    consts: [[\"position\", \"floating\"], [\"type\", \"email\", 3, \"ngModelChange\", \"ngModel\"], [\"type\", \"password\", 3, \"ngModelChange\", \"ngModel\"], [\"expand\", \"full\", \"color\", \"success\", 3, \"click\"], [\"expand\", \"full\", \"color\", \"success\", 3, \"routerLink\"]],\n    template: function LoginPage_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"ion-header\")(1, \"ion-toolbar\")(2, \"ion-title\");\n        i0.ɵɵtext(3, \"Inicio de Sesi\\u00F3n\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(4, \"ion-content\")(5, \"ion-list\")(6, \"ion-item\")(7, \"ion-label\", 0);\n        i0.ɵɵtext(8, \"Correo Electr\\u00F3nico\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"ion-input\", 1);\n        i0.ɵɵtwoWayListener(\"ngModelChange\", function LoginPage_Template_ion_input_ngModelChange_9_listener($event) {\n          i0.ɵɵtwoWayBindingSet(ctx.email, $event) || (ctx.email = $event);\n          return $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(10, \"ion-item\")(11, \"ion-label\", 0);\n        i0.ɵɵtext(12, \"Contrase\\u00F1a\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"ion-input\", 2);\n        i0.ɵɵtwoWayListener(\"ngModelChange\", function LoginPage_Template_ion_input_ngModelChange_13_listener($event) {\n          i0.ɵɵtwoWayBindingSet(ctx.password, $event) || (ctx.password = $event);\n          return $event;\n        });\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(14, \"ion-button\", 3);\n        i0.ɵɵlistener(\"click\", function LoginPage_Template_ion_button_click_14_listener() {\n          return ctx.login();\n        });\n        i0.ɵɵtext(15, \"Iniciar Sesi\\u00F3n\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"ion-button\", 4);\n        i0.ɵɵtext(17, \"Registrarse\");\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(9);\n        i0.ɵɵtwoWayProperty(\"ngModel\", ctx.email);\n        i0.ɵɵadvance(4);\n        i0.ɵɵtwoWayProperty(\"ngModel\", ctx.password);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(3, _c0));\n      }\n    },\n    dependencies: [i4.NgControlStatus, i4.NgModel, i3.IonButton, i3.IonContent, i3.IonHeader, i3.IonInput, i3.IonItem, i3.IonLabel, i3.IonList, i3.IonTitle, i3.IonToolbar, i3.TextValueAccessor, i3.RouterLinkDelegate, i2.RouterLink],\n    styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["LoginPage","constructor","afAuth","router","toastController","login","_this","_asyncToGenerator","userCredential","signInWithEmailAndPassword","email","password","user","navigate","toast","create","message","duration","present","error","errorMessage","_","i0","ɵɵdirectiveInject","i1","AngularFireAuth","i2","Router","i3","ToastController","_2","selectors","decls","vars","consts","template","LoginPage_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵtwoWayListener","LoginPage_Template_ion_input_ngModelChange_9_listener","$event","ɵɵtwoWayBindingSet","LoginPage_Template_ion_input_ngModelChange_13_listener","ɵɵlistener","LoginPage_Template_ion_button_click_14_listener","ɵɵadvance","ɵɵtwoWayProperty","ɵɵproperty","ɵɵpureFunction0","_c0"],"sources":["C:\\Users\\elias\\Desktop\\Unab-2024\\Portafolio de Proyectos\\SimplicityPhone\\SimplicityPhone\\src\\app\\login\\login.page.ts","C:\\Users\\elias\\Desktop\\Unab-2024\\Portafolio de Proyectos\\SimplicityPhone\\SimplicityPhone\\src\\app\\login\\login.page.html"],"sourcesContent":["import { Component } from \"@angular/core\";\r\nimport { AngularFireAuth } from \"@angular/fire/compat/auth\";\r\nimport { Router } from \"@angular/router\";\r\nimport { ToastController } from \"@ionic/angular\";\r\n\r\n@Component({\r\n  selector: \"app-login\",\r\n  templateUrl: \"./login.page.html\",\r\n  styleUrls: [\"./login.page.scss\"],\r\n})\r\nexport class LoginPage {\r\n  email!: string;\r\n  password!: string;\r\n\r\n  constructor(\r\n    private afAuth: AngularFireAuth,\r\n    private router: Router,\r\n    private toastController: ToastController\r\n  ) {}\r\n\r\n  async login() {\r\n    try {\r\n      const userCredential = await this.afAuth.signInWithEmailAndPassword(\r\n        this.email,\r\n        this.password\r\n      );\r\n      if (userCredential.user) {\r\n        this.router.navigate([\"/home\"]);\r\n      } else {\r\n        const toast = await this.toastController.create({\r\n          message: \"Por favor\",\r\n          duration: 3000,\r\n        });\r\n        await toast.present();\r\n      }\r\n    } catch (error: unknown) {\r\n      const errorMessage = (error as { message: string }).message;\r\n      const toast = await this.toastController.create({\r\n        message: errorMessage,\r\n        duration: 3000,\r\n      });\r\n      await toast.present();\r\n    }\r\n  }\r\n}\r\n","<ion-header>\r\n  <ion-toolbar>\r\n    <ion-title>Inicio de Sesión</ion-title>\r\n  </ion-toolbar>\r\n</ion-header>\r\n\r\n<ion-content>\r\n  <ion-list>\r\n    <ion-item>\r\n      <ion-label position=\"floating\">Correo Electrónico</ion-label>\r\n      <ion-input [(ngModel)]=\"email\" type=\"email\"></ion-input>\r\n    </ion-item>\r\n    <ion-item>\r\n      <ion-label position=\"floating\">Contraseña</ion-label>\r\n      <ion-input [(ngModel)]=\"password\" type=\"password\"></ion-input>\r\n    </ion-item>\r\n  </ion-list>\r\n  <ion-button expand=\"full\" color=\"success\" (click)=\"login()\"\r\n    >Iniciar Sesión</ion-button\r\n  >\r\n  <ion-button expand=\"full\" color=\"success\" [routerLink]=\"['/register']\"\r\n    >Registrarse</ion-button\r\n  >\r\n</ion-content>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}